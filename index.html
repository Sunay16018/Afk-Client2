<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Elite Stealth Panel v25</title>
    <style>
        :root { --bg: #010409; --panel: #0d1117; --border: #30363d; --blue: #58a6ff; --green: #238636; }
        * { box-sizing: border-box; font-family: -apple-system, system-ui, sans-serif; }
        body { background: var(--bg); color: #c9d1d9; margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        nav { display: flex; background: var(--panel); border-bottom: 1px solid var(--border); flex-shrink: 0; }
        nav button { flex: 1; padding: 18px 5px; border: none; background: none; color: #8b949e; font-weight: bold; font-size: 12px; cursor: pointer; }
        nav button.active { color: var(--blue); border-bottom: 3px solid var(--blue); background: #161b22; }

        .tab { flex: 1; display: none; padding: 15px; overflow-y: auto; -webkit-overflow-scrolling: touch; }
        .active-tab { display: block; }

        #logbox { background: #000; height: 55vh; overflow-y: auto; padding: 12px; font-size: 13px; border-radius: 10px; border: 1px solid var(--border); margin-bottom: 12px; line-height: 1.6; font-family: 'SFMono-Regular', Consolas, monospace; }
        
        input, select { background: var(--panel); border: 1px solid var(--border); color: #fff; padding: 14px; border-radius: 10px; width: 100%; margin-bottom: 10px; font-size: 16px; outline: none; }
        .btn { background: var(--green); color: #fff; border: none; padding: 16px; width: 100%; border-radius: 10px; font-weight: bold; font-size: 16px; cursor: pointer; transition: filter 0.2s; }
        .btn:active { filter: brightness(1.2); }

        .coord-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 10px; }
        .coord-grid input { text-align: center; margin-bottom: 0; }

        .inv-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 6px; }
        .slot { background: #161b22; border: 1px solid var(--border); aspect-ratio: 1; display: flex; align-items: center; justify-content: center; position: relative; border-radius: 8px; }
        .slot img { width: 85%; }
        .count { position: absolute; bottom: 2px; right: 3px; font-size: 11px; font-weight: bold; background: rgba(0,0,0,0.7); padding: 0 4px; border-radius: 4px; }

        .status-bar { display: flex; justify-content: space-around; background: var(--panel); padding: 12px; border-radius: 10px; margin-bottom: 15px; border: 1px solid var(--border); font-weight: bold; font-size: 14px; }
    </style>
</head>
<body>

<nav>
    <button onclick="T('bot')" id="n-bot" class="active">BAƒûLANTI</button>
    <button onclick="T('chat')" id="n-chat">GECE LOGLARI</button>
    <button onclick="T('ctrl')" id="n-ctrl">KONTROL/ENV</button>
</nav>

<div id="t-bot" class="tab active-tab">
    <input id="host" placeholder="Server IP Adresi">
    <input id="user" placeholder="Bot Kullanƒ±cƒ± Adƒ±">
    <select id="ver">
        <option value="1.21.4">1.21.4</option>
        <option value="1.21.1">1.21.1</option>
        <option value="1.21">1.21</option>
        <option value="1.20.4">1.20.4</option>
        <option value="1.20.1">1.20.1</option>
        <option value="1.16.5">1.16.5</option>
        <option value="1.8.9">1.8.9</option>
        
    </select>
    <button class="btn" onclick="start()">BOTU Sƒ∞STEME SOK</button>
    <div id="blist" style="margin-top:20px"></div>
</div>

<div id="t-chat" class="tab">
    <div id="logbox"></div>
    <div style="display:flex; gap:8px;">
        <input id="mi" placeholder="Sunucuya mesaj g√∂nder..." onkeydown="if(event.key==='Enter') send()" style="margin:0;">
        <button onclick="send()" style="background:var(--blue); border:none; color:white; border-radius:10px; width:65px; font-size:22px;">‚û§</button>
    </div>
</div>

<div id="t-ctrl" class="tab">
    <div class="status-bar" id="stat_display">
        <span>‚ù§Ô∏è CAN: --</span>
        <span>üçñ A√áLIK: --</span>
    </div>
    
    <label style="color:var(--blue); font-size:12px; font-weight:bold; margin-bottom:5px; display:block;">AKILLI YOL BULMA (COORDS)</label>
    <div class="coord-grid">
        <input id="cx" type="number" placeholder="X">
        <input id="cy" type="number" placeholder="Y">
        <input id="cz" type="number" placeholder="Z">
    </div>
    <button class="btn" style="background:var(--blue); margin-bottom:25px;" onclick="goTo()">HEDEFE Y√úR√ú</button>

    <label style="color:var(--blue); font-size:12px; font-weight:bold; margin-bottom:5px; display:block;">√áANTA ƒ∞√áERƒ∞ƒûƒ∞ (ATMAK ƒ∞√áƒ∞N TIKLA)</label>
    <div class="inv-grid" id="inv-display"></div>
</div>

<script>
    let sid = localStorage.getItem('bot_sid') || 's_'+Math.random().toString(36).substr(2,9);
    localStorage.setItem('bot_sid', sid);
    let sel = "";

    function T(t){
        document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active-tab'));
        document.querySelectorAll('nav button').forEach(x=>x.classList.remove('active'));
        document.getElementById('t-'+t).classList.add('active-tab');
        document.getElementById('n-'+t).classList.add('active');
    }

    function start(){
        const h=document.getElementById('host').value, u=document.getElementById('user').value, v=document.getElementById('ver').value;
        if(!h || !u) return alert("Bilgileri doldur!");
        fetch(`/start?sid=${sid}&host=${h}&user=${u}&ver=${v}&auto=true`);
        sel = u; T('chat');
    }

    function send(){
        const i=document.getElementById('mi');
        if(!i.value || !sel) return;
        fetch(`/send?sid=${sid}&user=${sel}&msg=${encodeURIComponent(i.value)}`);
        i.value="";
    }

    function goTo(){
        const x=document.getElementById('cx').value, y=document.getElementById('cy').value, z=document.getElementById('cz').value;
        if(x && y && z) fetch(`/goto?sid=${sid}&user=${sel}&x=${x}&y=${y}&z=${z}`);
    }

    setInterval(async ()=>{
        try {
            const r = await fetch(`/data?sid=${sid}&user=${sel}`);
            const d = await r.json();
            
            document.getElementById('blist').innerHTML = d.active.map(n=>`
                <div onclick="sel='${n}'" style="padding:15px; background:var(--panel); border-radius:12px; margin-bottom:10px; border:2px solid ${sel==n?var(--blue):var(--border)}">
                    <b>${n}</b> <span style="float:right">${sel==n?'üîµ SE√áƒ∞LDƒ∞':'‚ö™ BO≈ûTA'}</span>
                </div>
            `).join('');

            if(sel && d.logs[sel]) {
                const lb = document.getElementById('logbox');
                lb.innerHTML = d.logs[sel].join('');
                lb.scrollTop = lb.scrollHeight;
                
                if(d.botData){
                    document.getElementById('stat_display').innerHTML = `
                        <span style="color:#ff7b72">‚ù§Ô∏è CAN: %${Math.round(d.botData.hp*5)}</span>
                        <span style="color:#d2a8ff">üçñ A√áLIK: ${Math.round(d.botData.food)}</span>
                    `;
                    document.getElementById('inv-display').innerHTML = d.botData.inv.map(i=>`
                        <div class="slot" onclick="fetch('/drop?sid=${sid}&user=${sel}&slot=${i.slot}')">
                            <img src="https://raw.githubusercontent.com/PrismarineJS/minecraft-assets/master/data/1.16.1/items/${i.name}.png" onerror="this.src='https://via.placeholder.com/32?text=?'">
                            <span class="count">${i.count}</span>
                        </div>
                    `).join('');
                }
            }
        } catch(e){}
    }, 1500);
</script>
</body>
</html>

